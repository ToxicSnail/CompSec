# DIST_lab1
В этой лабораторной работе было необходимо прийти от небезопасной реализации программ по SOLID, к правильной реализации.

---
### **1) classProduct - несоблюдение принципа единственной ответственности**
Проблема реализации - проблема валидации данных в проекте.
Изначально был добавлен сначала только один валидатор, позже второй. Из-за этого произошла ошибка SOLID.
Функциональная реализация была заменена на классовую, где с абстрактного класса наследуются остальные валидаторы.
Данный код, представленный в репозитории, решает проблему валидации данных, а сам объект продукта не зависит от конкретной реализации его валидатора. В данной независимости и проявляется принцип единственной ответственности.

---
### 2) classImageHelper - несоблюдение принципа единственной ответственности
Проблема реализации - функция `GOD`.
У нас объект знает и умеет делать все, что только можно, что нарушает принцип единственной ответственности, ведь он предназначен для борьбы со сложностью.
Главная идея состоит в разбиении на отдельные классы огромного класса. Каждый новый класс отвечает за свою задачу, относится к одной функциональности, не связанной с другими.

---
### 3) classSmtpMailer - несоблюдение принципа открытости-закрытости
Проблема реализации - использование конкретных объектов без абстракций.
Полученный новый класс SmtpMailer не нужно менять при добавлении нового логгера,он работает через класс Logger. Таким образом, он остается закрытым для изменения, но открыт для расширения функционала.

---
### 4) classRepository - несоблюдение принципа открытости-закрытости
Проблема реализации - логика в иерархии AbstractEntity
Новый класс Repository не нужно менять при добавлении новых сущностей и каждая сущность имеет свой собственный репозиторий, отвечающий за сохранение. Также условные операторы больше не будут множится в методе Save и тем самым усложнять его.
Добавлена проверка типов: Теперь метод `Save()` в `AccountRepository` и `RoleRepository` проверяет тип передаваемой сущности с помощью `typeid`. Если тип не соответствует ожидаемому, выводится сообщение об ошибке, предотвращая сохранение некорректных данных. В `main()` также добавлены тестовые вызовы с несовместимыми типами для проверки корректности работы этой защиты.

---
